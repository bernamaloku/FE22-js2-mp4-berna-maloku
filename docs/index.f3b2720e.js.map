{"mappings":"imBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,+FCoGzD,MAAMC,EAAgBC,SAASC,iBAA8B,iBACvDC,EACJF,SAASC,iBAA8B,oBACnCE,EAAeH,SAASI,cAA2B,iBACnDC,EAAiBL,SAASI,cAA2B,oBAErDE,EAA6BN,SAASI,cAC1C,2BAGIG,EAA4BP,SAASI,cACzC,0BAGII,EAAa,IAlHnB,MAOEC,YACEC,EACAC,GAEAC,KAAKF,2BAA6BA,EAClCE,KAAKD,0BAA4BA,EACjCC,KAAKC,OACP,CAEAA,QACED,KAAKE,eAAiB,GACtBF,KAAKG,gBAAkB,GACvBH,KAAKI,eAAYC,CACnB,CAEAC,SACEN,KAAKE,eAAiBF,KAAKE,eAAeK,WAAWC,MAAM,GAAG,EAChE,CAEAC,aAAaC,GACI,MAAXA,GAAkBV,KAAKE,eAAeS,SAAS,OACnDX,KAAKE,eAAiBF,KAAKE,eAAeK,WAAaG,EAAOH,WAChE,CAEAK,gBAAgBR,GACc,KAAxBJ,KAAKE,iBACoB,KAAzBF,KAAKG,iBACPH,KAAKa,UAEPb,KAAKI,UAAYA,EACjBJ,KAAKG,gBAAkBH,KAAKE,eAC5BF,KAAKE,eAAiB,GACxB,CAEAW,UACE,IAAIC,EACJ,MAAMC,EAAeC,WAAWhB,KAAKG,iBAC/Bc,EAAkBD,WAAWhB,KAAKE,gBACxC,IAAIgB,MAAMH,KAASG,MAAMD,GAAzB,CACA,OAAQjB,KAAKI,WACX,IAAK,IACHU,EAAcC,EAAOE,EACrB,MACF,IAAK,IACHH,EAAcC,EAAOE,EACrB,MACF,IAAK,IACHH,EAAcC,EAAOE,EACrB,MACF,IAAK,IACHH,EAAcC,EAAOE,EACrB,MACF,QACE,OAEJjB,KAAKE,eAAiBY,EAAYP,WAClCP,KAAKI,eAAYC,EACjBL,KAAKG,gBAAkB,EAnBY,CAoBrC,CAEAgB,iBAAiBT,GACf,MAAMU,EAAeV,EAAOH,WACtBc,EAAgBL,WAAWI,EAAaE,MAAM,KAAK,IACnDC,EAAgBH,EAAaE,MAAM,KAAK,GAC9C,IAAIE,EAQJ,OANEA,EADEN,MAAMG,GACS,GAEAA,EAAcI,eAAe,KAAM,CAClDC,sBAAuB,IAGN,MAAjBH,EACK,GAAGC,KAAkBD,IAErBC,CAEX,CAEAG,gBACE3B,KAAKD,0BAA0B6B,UAAY5B,KAAKmB,iBAC9CnB,KAAKE,gBAEe,MAAlBF,KAAKI,UACPJ,KAAKF,2BAA2B8B,UAAY,GAAG5B,KAAKmB,iBAClDnB,KAAKG,oBACFH,KAAKI,YAEVJ,KAAKF,2BAA2B8B,UAAY,EAEhD,GAkBAlC,EACAC,GAGFR,EAAc0C,SAASC,IACrBA,EAAOC,iBAAiB,SAAS,KAC/BnC,EAAWa,aAAaqB,EAAOF,WAC/BhC,EAAW+B,eAAa,GAC1B,IAGFrC,EAAiBuC,SAASC,IACxBA,EAAOC,iBAAiB,SAAS,KAC/BnC,EAAWgB,gBAAgBkB,EAAOF,WAClChC,EAAW+B,eAAa,GAC1B,IAGFpC,EAAawC,iBAAiB,SAAUD,IACtClC,EAAWU,SACXV,EAAW+B,eAAa,IAG1BlC,EAAesC,iBAAiB,SAAUD,IACxClC,EAAWK,QACXL,EAAW+B,eAAa,IAGLvC,SAASI,cAAc,iBAE/BuC,iBAAiB,SAAUD,IACtClC,EAAWiB,UACXjB,EAAW+B,eAAa,IAG1B,MAAMK,EAAoBtC,EAA2BuC,c,MCtJrDC,EAAiB,IAAAC,IAAoBpD,EAAA,SAAAqD,QAA6C,qBAAAC,KAAU9B,WDuJ5F,MAAM+B,EAAA,IAAAH,IAAAD,GACoB,OAAtBF,IACFA,EAAkBO,MAAMC,gBAAkB,OAAOF","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-c6ca8f3af5a2375d.js","src/index.ts","node_modules/@parcel/runtime-js/lib/runtime-b8c52953c1fc1672.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"l1gf1\\\":\\\"index.f3b2720e.js\\\",\\\"2Rzth\\\":\\\"pic.bf690d51.jpg\\\"}\"));","class Calculator {\n  previousOperandTextElement: HTMLElement;\n  currentOperandTextElement: HTMLElement;\n  currentOperand: string;\n  previousOperand: string;\n  operation: string | undefined;\n\n  constructor(\n    previousOperandTextElement: HTMLElement,\n    currentOperandTextElement: HTMLElement\n  ) {\n    this.previousOperandTextElement = previousOperandTextElement;\n    this.currentOperandTextElement = currentOperandTextElement;\n    this.clear();\n  }\n\n  clear(): void {\n    this.currentOperand = \"\";\n    this.previousOperand = \"\";\n    this.operation = undefined;\n  }\n\n  delete(): void {\n    this.currentOperand = this.currentOperand.toString().slice(0, -1);\n  }\n\n  appendNumber(number: string): void {\n    if (number === \".\" && this.currentOperand.includes(\".\")) return;\n    this.currentOperand = this.currentOperand.toString() + number.toString();\n  }\n\n  chooseOperation(operation: string): void {\n    if (this.currentOperand === \"\") return;\n    if (this.previousOperand !== \"\") {\n      this.compute();\n    }\n    this.operation = operation;\n    this.previousOperand = this.currentOperand;\n    this.currentOperand = \"\";\n  }\n\n  compute(): void {\n    let computation: number;\n    const prev: number = parseFloat(this.previousOperand);\n    const current: number = parseFloat(this.currentOperand);\n    if (isNaN(prev) || isNaN(current)) return;\n    switch (this.operation) {\n      case \"+\":\n        computation = prev + current;\n        break;\n      case \"-\":\n        computation = prev - current;\n        break;\n      case \"*\":\n        computation = prev * current;\n        break;\n      case \"รท\":\n        computation = prev / current;\n        break;\n      default:\n        return;\n    }\n    this.currentOperand = computation.toString();\n    this.operation = undefined;\n    this.previousOperand = \"\";\n  }\n\n  getDisplayNumber(number: string | number): string {\n    const stringNumber = number.toString();\n    const integerDigits = parseFloat(stringNumber.split(\".\")[0]);\n    const decimalDigits = stringNumber.split(\".\")[1];\n    let integerDisplay: string;\n    if (isNaN(integerDigits)) {\n      integerDisplay = \"\";\n    } else {\n      integerDisplay = integerDigits.toLocaleString(\"en\", {\n        maximumFractionDigits: 0,\n      });\n    }\n    if (decimalDigits != null) {\n      return `${integerDisplay}.${decimalDigits}`;\n    } else {\n      return integerDisplay;\n    }\n  }\n\n  updateDisplay(): void {\n    this.currentOperandTextElement.innerText = this.getDisplayNumber(\n      this.currentOperand\n    );\n    if (this.operation != null) {\n      this.previousOperandTextElement.innerText = `${this.getDisplayNumber(\n        this.previousOperand\n      )} ${this.operation}`;\n    } else {\n      this.previousOperandTextElement.innerText = \"\";\n    }\n  }\n}\n\nconst numberButtons = document.querySelectorAll<HTMLElement>(\"[data-number]\");\nconst operationButtons =\n  document.querySelectorAll<HTMLElement>(\"[data-operation]\");\nconst deleteButton = document.querySelector<HTMLElement>(\"[data-delete]\")!;\nconst allClearButton = document.querySelector<HTMLElement>(\"[data-all-clear]\")!;\n\nconst previousOperandTextElement = document.querySelector(\n  \"[data-previous-operand]\"\n) as HTMLElement;\n\nconst currentOperandTextElement = document.querySelector(\n  \"[data-current-operand]\"\n) as HTMLElement;\n\nconst calculator = new Calculator(\n  previousOperandTextElement,\n  currentOperandTextElement\n);\n\nnumberButtons.forEach((button) => {\n  button.addEventListener(\"click\", () => {\n    calculator.appendNumber(button.innerText);\n    calculator.updateDisplay();\n  });\n});\n\noperationButtons.forEach((button) => {\n  button.addEventListener(\"click\", () => {\n    calculator.chooseOperation(button.innerText);\n    calculator.updateDisplay();\n  });\n});\n\ndeleteButton.addEventListener(\"click\", (button) => {\n  calculator.delete();\n  calculator.updateDisplay();\n});\n\nallClearButton.addEventListener(\"click\", (button) => {\n  calculator.clear();\n  calculator.updateDisplay();\n});\n\nconst equalsButton = document.querySelector(\"[data-equals]\") as HTMLElement;\n\nequalsButton.addEventListener(\"click\", (button) => {\n  calculator.compute();\n  calculator.updateDisplay();\n});\n\nconst calculatorElement = previousOperandTextElement.parentElement;\nconst imgUrl = new URL(\"images/pic.jpg\", import.meta.url);\nif (calculatorElement !== null) {\n  calculatorElement.style.backgroundImage = `url(${imgUrl})`\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2Rzth\")).toString();"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$b4e14b6b8da86996$var$numberButtons","document","querySelectorAll","$b4e14b6b8da86996$var$operationButtons","$b4e14b6b8da86996$var$deleteButton","querySelector","$b4e14b6b8da86996$var$allClearButton","$b4e14b6b8da86996$var$previousOperandTextElement","$b4e14b6b8da86996$var$currentOperandTextElement","$b4e14b6b8da86996$var$calculator","constructor","previousOperandTextElement","currentOperandTextElement","this","clear","currentOperand","previousOperand","operation","undefined","delete","toString","slice","appendNumber","number","includes","chooseOperation","compute","computation","prev","parseFloat","current","isNaN","getDisplayNumber","stringNumber","integerDigits","split","decimalDigits","integerDisplay","toLocaleString","maximumFractionDigits","updateDisplay","innerText","forEach","button","addEventListener","$b4e14b6b8da86996$var$calculatorElement","parentElement","$e24a91c2fdedf6a5$exports","URL","resolve","url","$b4e14b6b8da86996$var$imgUrl","style","backgroundImage"],"version":3,"file":"index.f3b2720e.js.map"}